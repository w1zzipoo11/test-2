// Тексти двома мовами
const translations = {
  ua: {
    "hero.tagline": "Цифровий меморіал · Бородянка",
    "hero.title": "Памʼятник Тарасу Шевченку, зруйнований війною",
    "hero.subtitle":
      "Ця сторінка зʼєднує місце, людей і памʼять. Ви стоїте там, де колись був культурний символ Бородянки.",
    "hero.ctaPrimary": "Історія памʼятника",
    "hero.ctaSecondary": "Чому це важливо",

    "story.title": "Історія місця",
    "story.lead":
      "Памʼятник Тарасу Шевченку був не лише скульптурою. Це була точка зустрічі, простір для вшанування і нагадування про слова поета.",
    "story.block1.title": "Символ культури та гідності",
    "story.block1.text":
      "Для мешканців Бородянки памʼятник уособлював не тільки постать Шевченка.\n\nВін був живим символом української мови, культури та боротьби за свободу. Біля нього відзначали пам’ятні дні, покладали квіти, проводили шкільні заходи та хвилини мовчання.",
    "story.block2.title": "Простір для громади",
    "story.block2.text":
      "Місце навколо памʼятника було невеликим, але значущим.\n\nТут зустрічалися покоління — старші розповідали молодшим про поета, про історію селища та про ціну свободи. Так формувалася тиха, але дуже важлива традиція спільної памʼяті.",

    "before.label": "До руйнування",
    "before.title": "Як виглядало це місце раніше",
    "before.text":
      "До повномасштабної війни памʼятник був частиною знайомого міського пейзажу.\n\nЙого сприймали як щось незмінне: він просто «був» — як школа, як дерева поруч, як вулиця, якою проходять щодня. Лише з часом стає помітно, наскільки важливими є такі, на перший погляд, звичні речі.",
    "before.timeline1.year": "До 2022",
    "before.timeline1.text":
      "Памʼятник використовується для урочистих заходів, покладання квітів, вшанування памʼятних дат.",
    "before.timeline2.year": "Щороку",
    "before.timeline2.text":
      "Школярі, вчителі та мешканці приходять сюди, щоб згадати творчість Шевченка та історію України.",
    "before.timeline3.year": "Перед війною",
    "before.timeline3.text":
      "Місце навколо памʼятника залишається спокійною частиною повсякденного життя громади.",

    "war.label": "Руйнування війною",
    "war.title": "Втрачений, але не забутий",
    "war.text1":
      "У 2022 році, під час бойових дій у Бородянці, це місце перестало бути просто знайомою частиною міського простору. Памʼятник, який десятки років був символом культури та стійкості, зазнав руйнувань.\n\nЗруйновані культурні обʼєкти — це не лише фізичні втрати. Це спроба вдарити по памʼяті, по ідентичності, по відчуттю дому.",
    "war.text2":
      "Навіть якщо саму скульптуру зруйновано або пошкоджено, значення цього місця не зникає. Навпаки, воно посилюється.\n\nКожен, хто стоїть тут сьогодні, є свідком того, що сталося, і носієм памʼяті про цю втрату.",
    "war.quote":
      "«Руйнують стіни та камінь. Але памʼять живе в людях — і в історіях, які вони зберігають.»",
    "war.banner.label": "Навіщо фіксувати це",
    "war.banner.text":
      "Документуючи зруйновані памʼятки, ми зберігаємо підґрунтя для майбутнього відновлення та фіксуємо масштаб культурних втрат.",

    "project.label": "Цифровий меморіал",
    "project.title": "Навіщо створено цю сторінку",
    "project.block1.title": "Пояснити значення місця",
    "project.block1.text":
      "Цей сайт існує, щоб кожен, хто сканує QR-код біля зруйнованого памʼятника, міг дізнатися, що тут було раніше і чому це важливо.",
    "project.block2.title": "Зберегти памʼять у часі",
    "project.block2.text":
      "Навіть якщо фізичний обʼєкт зруйнований, цифрове свідчення допомагає зберегти його історію, функцію та роль для громади.",
    "project.block3.title": "Створити тихий простір памʼяті",
    "project.block3.text":
      "Сторінка не є новиною чи репортажем. Це спокійний цифровий простір, створений для усвідомлення, вдячності й памʼяті.",

    "project.info.title": "Що ви бачите зараз",
    "project.info.item1":
      "Коротку історію памʼятника та його значення для громади Бородянки.",
    "project.info.item2":
      "Опис того, що сталося з памʼяткою під час війни та чому це важливо фіксувати.",
    "project.info.item3":
      "Пояснення, чому навіть відсутність фото не робить це місце менш важливим.",

    "project.qr.title": "QR-код і доступ до сторінки",
    "project.qr.text":
      "Цей сайт відкривається переважно через QR-код, розміщений безпосередньо біля місця зруйнованої памʼятки.\n\nЦе означає, що ви зараз фізично перебуваєте поруч із простором, про який читаєте. Поєднання реального місця та цифрової історії допомагає глибше відчути масштаб втрати.",
    "project.qr.placeholder":
      "Тут може бути QR-код із посиланням на цю сторінку, розміщений на табличці біля памʼятника.",

    "status.label": "Статус інформації",
    "status.title": "Про фото та джерела",
    "status.text1":
      "Станом на зараз відкриті, доступні для використання архівні фото цього памʼятника можуть бути відсутні або обмежені. Щоб не порушувати авторські права та етичні норми, на сторінці не використовуються випадкові зображення з інтернету.",
    "status.text2":
      "Текстову інформацію можна доповнювати: додати підтверджені дати встановлення, деталі про авторів чи ініціаторів створення памʼятника. Ця сторінка задумана як відправна точка для збереження й розвитку памʼяті, а не як завершена енциклопедична стаття.",

    "footer.text":
      "Цифровий меморіальний проєкт, створений для збереження памʼяті про зруйновані культурні обʼєкти Бородянки.",
    "footer.note":
      "Якщо ви маєте перевірені матеріали або спогади про це місце, їх можна використати для подальшого доповнення історії."
  },

  en: {
    "hero.tagline": "Digital memorial · Borodyanka",
    "hero.title": "Taras Shevchenko monument, destroyed by war",
    "hero.subtitle":
      "This page connects the place, the people and the memory. You are standing where a cultural symbol of Borodyanka once stood.",
    "hero.ctaPrimary": "Story of the monument",
    "hero.ctaSecondary": "Why it matters",

    "story.title": "History of this place",
    "story.lead":
      "The monument to Taras Shevchenko was more than a sculpture. It was a meeting point, a space of remembrance and a reminder of the poet’s words.",
    "story.block1.title": "Symbol of culture and dignity",
    "story.block1.text":
      "For the people of Borodyanka, the monument embodied much more than the figure of Shevchenko.\n\nIt was a living symbol of Ukrainian language, culture and the struggle for freedom. Local residents and schoolchildren came here on commemorative days, bringing flowers and observing moments of silence.",
    "story.block2.title": "A space for the community",
    "story.block2.text":
      "The space around the monument was modest, yet meaningful.\n\nGenerations met here — elders shared stories about the poet, about the town and about the price of freedom. In this way, a quiet but very important tradition of shared memory was formed.",

    "before.label": "Before destruction",
    "before.title": "How this place looked before the war",
    "before.text":
      "Before the full-scale invasion, the monument was a natural part of the town’s landscape.\n\nPeople perceived it as something permanent: it simply “was there” — like the school, the nearby trees, or the street they walked every day. Only later do we realise how important such familiar things truly are.",
    "before.timeline1.year": "Before 2022",
    "before.timeline1.text":
      "The monument is used for official ceremonies, laying flowers and marking important dates.",
    "before.timeline2.year": "Every year",
    "before.timeline2.text":
      "Students, teachers and local residents come to recall Shevchenko’s work and the history of Ukraine.",
    "before.timeline3.year": "On the eve of war",
    "before.timeline3.text":
      "The area around the monument remains a quiet, everyday part of community life.",

    "war.label": "Destroyed by war",
    "war.title": "Lost, but not forgotten",
    "war.text1":
      "In 2022, during the fighting in Borodyanka, this place ceased to be just a familiar part of the urban environment. A monument that had symbolised culture and resilience for decades was damaged or destroyed.\n\nWhen cultural landmarks are ruined, it is not only a physical loss. It is also an attempt to strike at memory, identity and the feeling of home.",
    "war.text2":
      "Even if the sculpture itself has been destroyed or severely damaged, the meaning of this place does not disappear. On the contrary, it grows.\n\nEveryone who stands here today becomes a witness to what happened — and a carrier of this memory.",
    "war.quote":
      "\"Walls and stone can be destroyed. Memory lives in people — and in the stories they keep.\"",
    "war.banner.label": "Why document this",
    "war.banner.text":
      "By documenting destroyed cultural heritage, we preserve a foundation for future restoration and record the scale of cultural loss.",

    "project.label": "Digital memorial",
    "project.title": "Why this page exists",
    "project.block1.title": "To explain the meaning of the place",
    "project.block1.text":
      "This site allows anyone who scans the QR code near the destroyed monument to learn what once stood here and why it matters.",
    "project.block2.title": "To keep memory over time",
    "project.block2.text":
      "Even if the physical object is gone, a digital record helps to preserve its story, its role and its function for the community.",
    "project.block3.title": "To create a quiet space of remembrance",
    "project.block3.text":
      "This page is not breaking news or a report. It is a calm digital space made for reflection, gratitude and remembrance.",

    "project.info.title": "What you are seeing now",
    "project.info.item1":
      "A short history of the monument and its importance for the community of Borodyanka.",
    "project.info.item2":
      "A description of what happened to the monument during the war and why documenting this matters.",
    "project.info.item3":
      "An explanation of why the absence of photos does not make this place any less important.",

    "project.qr.title": "QR code and access to the page",
    "project.qr.text":
      "This site is usually opened via a QR code installed right next to the place where the monument stood.\n\nThis means that you are physically present in the space you are reading about. The combination of a real location and a digital story helps to better understand the scale of the loss.",
    "project.qr.placeholder":
      "Here, a QR code leading to this page can be printed on a plaque next to the former monument.",

    "status.label": "Information status",
    "status.title": "About photos and sources",
    "status.text1":
      "At the moment, openly available archival photos of this monument may be missing or limited. To avoid violating copyright and ethical norms, this page does not use random images found online.",
    "status.text2":
      "Textual information can be extended: including confirmed dates, authors or local initiatives behind the monument. This page is meant as a starting point for preserving and expanding memory, not as a final encyclopedic article.",

    "footer.text":
      "A digital memorial project created to preserve the memory of destroyed cultural landmarks in Borodyanka.",
    "footer.note":
      "If you have verified materials or personal recollections about this place, they can be used to enrich this story in the future."
  }
};

// Застосувати мову до всіх елементів з data-i18n
function applyLanguage(lang) {
  const elements = document.querySelectorAll("[data-i18n]");
  const dict = translations[lang] || translations.ua;

  elements.forEach(el => {
    const key = el.getAttribute("data-i18n");
    const value = dict[key];
    if (!value) return;
    // Для простоти — через textContent (multiline обробляється CSS)
    el.textContent = value;
  });

  // Оновити атрибут lang у HTML
  document.documentElement.lang = lang === "en" ? "en" : "uk";
}

// Обробка перемикача мов
function initLanguageSwitcher() {
  const buttons = document.querySelectorAll(".lang-btn");
  const stored = localStorage.getItem("memorial-lang");
  let current = stored === "en" ? "en" : "ua";

  applyLanguage(current);
  updateActiveLangButton(current);

  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      const lang = btn.getAttribute("data-lang");
      if (lang === current) return;

      current = lang;
      localStorage.setItem("memorial-lang", current);

      // Невеликий fade effect
      const page = document.querySelector(".page");
      page.classList.add("lang-transition");
      setTimeout(() => {
        applyLanguage(current);
        updateActiveLangButton(current);
        page.classList.remove("lang-transition");
      }, 180);
    });
  });
}

function updateActiveLangButton(lang) {
  document.querySelectorAll(".lang-btn").forEach(btn => {
    const value = btn.getAttribute("data-lang");
    btn.classList.toggle("active", value === lang);
  });
}

// Анімація при скролі (reveal)
function initRevealOnScroll() {
  const revealEls = document.querySelectorAll(".reveal");

  const observer = new IntersectionObserver(
    entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.15 }
  );

  revealEls.forEach(el => observer.observe(el));
}

// Легка паралакс-анімація для hero
function initHeroParallax() {
  const heroBg = document.querySelector(".hero-bg");
  if (!heroBg) return;

  window.addEventListener("scroll", () => {
    const scrollY = window.scrollY || window.pageYOffset;
    const factor = Math.min(scrollY / 600, 1);
    heroBg.style.transform = `translateY(${factor * 18}px) scale(${1.05 + factor * 0.04})`;
  });
}

// Прокрутка від кнопки “чому це важливо”
function initScrollToStory() {
  const btn = document.querySelector(".scroll-to-story");
  const storySection = document.querySelector("#war") || document.querySelector("#story");
  if (!btn || !storySection) return;

  btn.addEventListener("click", () => {
    storySection.scrollIntoView({ behavior: "smooth", block: "start" });
  });
}

// Старт
document.addEventListener("DOMContentLoaded", () => {
  initLanguageSwitcher();
  initRevealOnScroll();
  initHeroParallax();
  initScrollToStory();
});
